import{r as a,f as R,u as k,j as e,m as $,L as D}from"./index-hKw4bdQn.js";import{M as F,b as w}from"./index-DWng5I7v.js";function Y(){const[j,t]=a.useState(!1),[r,u]=a.useState(""),[i,m]=a.useState(""),[p,f]=a.useState(""),[v,l]=a.useState(!1),[S,o]=a.useState(!1),[N,c]=a.useState(!1),[O,x]=a.useState(!1),[P,h]=a.useState(!1),[b,g]=a.useState(""),{signUpWithEmail:C}=R(),y=k(),T=s=>{u(s.target.value),c(!1),t(!1)},E=s=>{l(!1),m(s.target.value),t(!1)},I=s=>{o(!1),f(s.target.value),t(!1)},A=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),M=s=>s.length<8?!1:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(s),U=()=>{o(!1),l(!1),c(!1);let s=!0,n=A(r.trim()),d=M(i.trim());return(r.trim()==""||!n)&&(c(!0),s=!1),(i.trim()==""||!d)&&(l(!0),s=!1),i!==p&&(o(!0),s=!1),s},L=async()=>{if(t(!1),!U())return;h(!0),x(!0);let{result:n,errorCode:d}=await C(r.trim(),i.trim());if(h(!1),x(!1),n){u(""),m(""),f(""),y("/");return}g(d==="auth/email-already-in-use"?"This email is already in use. Please use another email.":"An error occurred. Please try again later."),t(!0)},V={visible:{opacity:1,willChange:"opacity"},hidden:{opacity:0,willChange:"opacity"}},B={ease:"easeInOut",duration:.3};return e.jsxs($.div,{initial:"hidden",animate:"visible",exit:"hidden",transition:B,variants:V,className:"sign-in-form",children:[P&&e.jsx("div",{className:"load-bar"}),e.jsx("h2",{children:"Create Your Account"}),e.jsx("p",{className:"sub-head",children:"Create your account with email and password"}),e.jsxs("div",{className:"input",children:[e.jsx(F,{className:"icon"}),e.jsx("input",{type:"text",placeholder:"Email",value:r,onChange:s=>{T(s)}})]}),N&&e.jsx("p",{className:"text-xs text-red-600 mb-1",children:"- Enter a valid email"}),e.jsxs("div",{className:"input",children:[e.jsx(w,{className:"icon"}),e.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:s=>{E(s)}})]}),v&&e.jsxs("p",{className:"text-xs text-red-600 mb-1",children:["- Password must be at least 8 characters long. ",e.jsx("br",{}),"- Password must include at least one uppercase letter, one lowercase letter, and one digit."]}),e.jsxs("div",{className:"input",children:[e.jsx(w,{className:"icon"}),e.jsx("input",{type:"password",placeholder:"Re-enter Password",value:p,onChange:s=>{I(s)}})]}),S&&e.jsx("p",{className:"text-xs text-red-600 mb-1",children:"- Passwords do not match."}),e.jsx("p",{className:"forgot-password",children:"Forgot Password?"}),e.jsx("button",{className:"login-button",onClick:L,disabled:O,children:"Sign Up"}),e.jsxs("p",{className:"createAnAccount-text",children:["Already have an account?",e.jsx(D,{to:"/sign-in",children:e.jsx("span",{children:" Sign in here"})})]}),e.jsx("p",{className:`error-msg ${j?"show":""}`,children:b})]})}export{Y as default};
