import{r as n,D as j,u as S,e as N,j as e,m as C,L as D}from"./index-Dsvn2HXh.js";/* empty css                   */import{u as E}from"./useStoreData-DIHldLrG.js";function k(){const{notes:r}=n.useContext(j),f=n.useRef(null),s=n.useRef(null),[a,l]=n.useState(""),[i,c]=n.useState(""),[m,x]=n.useState(""),p=S();let{id:o}=N();const{editFirbaseDoc:h}=E(),[g,u]=n.useState(!1);n.useEffect(()=>{const t=r.find(y=>y.id===o);x(t),t&&(l(t.title),c(t.note)),setTimeout(()=>{s.current&&s.current.focus()},0),console.log("rendering")},[r,o]);const d=async t=>{t.preventDefault(),u(!0),!(!a&&!i)&&(await h(o,a,i),u(!1),p("/"))},v={visible:{opacity:1,y:0,willChange:"opacity, transform"},hidden:{opacity:0,y:-5,willChange:"opacity, transform"},exit:{opacity:0,y:-5,willChange:"opacity, transform",transition:{duration:.1}}},b={ease:"easeInOut",duration:.3};return m?e.jsx(C.div,{initial:"hidden",animate:"visible",exit:"exit",transition:b,variants:v,className:"create-note",ref:f,children:e.jsxs("form",{onSubmit:d,children:[e.jsx("input",{type:"text",placeholder:"Title Here ...",value:a,onChange:t=>{l(t.target.value)},ref:s}),e.jsx("textarea",{name:"",id:"",cols:"30",rows:"10",placeholder:"Text Here ...",value:i,onChange:t=>{c(t.target.value)}}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{onSubmit:d,disabled:g,children:"Save Changes"}),e.jsx(D,{to:"/",children:e.jsx("button",{className:"back-button",type:"button",children:"Back"})})]})]})}):e.jsx("div",{className:"error-div",style:{fontSize:"2rem",textAlign:"center",fontWeight:"700",padding:"3rem 1rem"},children:"Error: Item not found"})}export{k as default};
